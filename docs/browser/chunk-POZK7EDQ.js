import{a as Y}from"./chunk-P3Z34G7K.js";import{a as N}from"./chunk-BS6BRVDQ.js";import{a as $,b as M,c as U}from"./chunk-UOQ7LSIJ.js";import{l as G}from"./chunk-VUNKZBAI.js";import{a as B}from"./chunk-O4C5BUMC.js";import{a as R}from"./chunk-THTALMT4.js";import{g as V}from"./chunk-LHRA3WSF.js";import{a as z}from"./chunk-EIYVAXR4.js";import{$a as v,Ab as _,Hb as W,Ib as k,Ja as T,Nb as S,Oa as a,Pa as m,Pb as P,Qb as A,Ta as O,_ as E,bb as u,fb as f,gb as y,hb as b,ia as g,ib as w,ja as h,jb as r,kb as o,lb as l,mb as D,nb as F,ob as C,qb as x,qc as j,rb as s,rc as L,yb as H,zb as c}from"./chunk-SVRTX5CE.js";var J=t=>["/productDetails",t];function K(t,i){t&1&&l(0,"img",10)}function Q(t,i){t&1&&l(0,"img",11)}function X(t,i){t&1&&l(0,"img",12)}function Z(t,i){if(t&1&&(l(0,"img",13),r(1,"h3",14),c(2),o()),t&2){let e=s().$implicit;u("src",e.image,T)("alt",e.name)("title",e.name),a(2),_(e.name)}}function ee(t,i){t&1&&(D(0),v(1,Z,3,4,"ng-template",5),F())}function te(t,i){if(t&1&&(r(0,"section",9)(1,"h2"),c(2,"Popular Categories"),o(),r(3,"owl-carousel-o",4),b(4,ee,2,0,"ng-container",null,y),o()()),t&2){let e=s();a(3),u("options",e.categoryOptions),a(),w(e.categories)}}function ie(t,i){if(t&1){let e=C();r(0,"i",28),x("click",function(){g(e);let d=s().$implicit,p=s(2);return h(p.addFav(d._id))}),o()}}function ne(t,i){if(t&1){let e=C();r(0,"i",29),x("click",function(){g(e);let d=s().$implicit,p=s(2);return h(p.removeFav(d._id))}),o()}}function re(t,i){if(t&1){let e=C();r(0,"div",16)(1,"div",17)(2,"header",18),l(3,"img",19),r(4,"h3",14),c(5),o(),r(6,"h4",20),c(7),S(8,"cuttext"),o(),r(9,"div",21)(10,"span"),c(11),S(12,"currency"),o(),r(13,"span"),l(14,"i",22),r(15,"span",23),c(16),o()()()(),r(17,"footer",24)(18,"button",25,0),x("click",function(){let d=g(e).$implicit,p=H(19),I=s(2);return h(I.addProduct(d._id,p))}),c(20," + Add To Cart "),o(),v(21,ie,1,0,"i",26)(22,ne,1,0,"i",27),o()()()}if(t&2){let e=i.$implicit,n=s(2);a(2),u("routerLink",k(15,J,e._id)),a(),u("src",e.imageCover,T)("alt",e.title)("title",e.title),a(2),_(e.category.name),a(2),_(P(8,9,e.title,2)),a(4),_(P(12,12,e.price,"EGY")),a(5),_(e.ratingsAverage),a(5),f(n.wishListData.includes(e._id)?22:21)}}function oe(t,i){if(t&1&&(r(0,"section",9)(1,"h2"),c(2,"Popular Products"),o(),r(3,"div",15),b(4,re,23,17,"div",16,y),S(6,"slice"),o()()),t&2){let e=s();a(4),w(A(6,0,e.products,0,12))}}var q=class t{constructor(i,e,n,d,p,I){this._ProductService=i;this._CartService=e;this._ToastrService=n;this._Renderer2=d;this._AuthService=p;this._WishlistService=I}products=[];categories=[];wishListData=[];mainSliderOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,autoplay:!0,autoplayTimeout:5e3,autoplaySpeed:1e3,navText:["",""],items:1,nav:!1};categoryOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,autoplay:!0,autoplayTimeout:5e3,autoplaySpeed:1e3,navText:["",""],responsive:{0:{items:2},400:{items:3},740:{items:4},940:{items:6}},nav:!1};ngOnInit(){this._AuthService.decodeUser(),this.getProducts(),this.getCategories(),this.getWishlist()}getWishlist(){this._WishlistService.getWishlist().subscribe({next:i=>{let e=i.data.map(n=>n._id);this.wishListData=e}})}getProducts(){this._ProductService.getProucts().subscribe({next:i=>{this.products=i.data}})}getCategories(){this._ProductService.getCategories().subscribe({next:i=>{this.categories=i.data}})}addProduct(i,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addToCart(i).subscribe({next:n=>{this._ToastrService.success(n.message),this._Renderer2.removeAttribute(e,"disabled"),this._CartService.cartNumber.next(n.numOfCartItems)},error:n=>{console.log(n),this._Renderer2.removeAttribute(e,"disabled")}})}addFav(i){this._WishlistService.addToWish(i).subscribe({next:e=>{this._ToastrService.success(e.message),this.wishListData=e.data;let n=e.data.length;this._WishlistService.countOfWish.next(n)}})}removeFav(i){this._WishlistService.removeFromWish(i).subscribe({next:e=>{this._ToastrService.success(e.message),this.wishListData=e.data;let n=e.data.length;this._WishlistService.countOfWish.next(n)},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||t)(m(z),m(R),m(G),m(O),m(Y),m(B))};static \u0275cmp=E({type:t,selectors:[["app-home"]],standalone:!0,features:[W],decls:12,vars:3,consts:[["btnAdd",""],[1,"py-3"],[1,"row","g-0"],[1,"col-9"],[3,"options"],["carouselSlide",""],[1,"col-3"],["height","200","src","./assets/main-slider-3.jpeg","alt","",1,"w-100"],["height","200","src","./assets/main-slider-2.jpeg","alt","",1,"w-100"],[1,"py-4"],["height","400","src","./assets/main-slider-1.jpeg","alt","slider1"],["height","400","src","./assets/main-slider-2.jpeg","alt","slider2"],["height","400","src","./assets/main-slider-3.jpeg","alt","slider3"],["height","250",3,"src","alt","title"],[1,"h6","text-main"],[1,"row","g-4"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"product","h-100"],["role","button",3,"routerLink"],[1,"w-100",3,"src","alt","title"],[1,"h6"],[1,"d-flex","align-items-center","justify-content-between","small"],[1,"fas","fa-star","rating-color"],[1,"text-muted"],[1,"d-flex","justify-content-between","align-items-center"],[1,"main-btn","w-100",3,"click"],[1,"fa-regular","fa-heart","ms-3","heart"],[1,"fa-solid","fa-heart","ms-3","heart","text-danger"],[1,"fa-regular","fa-heart","ms-3","heart",3,"click"],[1,"fa-solid","fa-heart","ms-3","heart","text-danger",3,"click"]],template:function(e,n){e&1&&(r(0,"section",1)(1,"div",2)(2,"div",3)(3,"owl-carousel-o",4),v(4,K,1,0,"ng-template",5)(5,Q,1,0,"ng-template",5)(6,X,1,0,"ng-template",5),o()(),r(7,"div",6),l(8,"img",7)(9,"img",8),o()()(),v(10,te,6,1,"section",9)(11,oe,7,4,"section",9)),e&2&&(a(3),u("options",n.mainSliderOptions),a(7),f(n.categories.length>0?10:-1),a(),f(n.products.length>0?11:-1))},dependencies:[N,j,L,U,M,$,V]})};export{q as HomeComponent};
