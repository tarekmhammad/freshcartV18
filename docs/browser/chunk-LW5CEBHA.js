import{a as b}from"./chunk-P3Z34G7K.js";import{a as T,b as p,c as N,d as P,e as q,f as g,h as y,i as L,j as M,k as I,m as A}from"./chunk-64AJHUAZ.js";import{f as R}from"./chunk-LHRA3WSF.js";import{$a as d,Bb as w,Hb as S,Oa as a,Pa as x,_ as E,bb as h,fb as s,jb as i,kb as n,lb as u,qb as F,rb as _,zb as l}from"./chunk-SVRTX5CE.js";function D(e,o){if(e&1&&(i(0,"p",1),l(1),n()),e&2){let r=_();a(),w(" ",r.errMsg," ")}}function B(e,o){e&1&&(i(0,"span"),l(1,"Name is required"),n())}function j(e,o){e&1&&(i(0,"span"),l(1,"Min Length of Name 3"),n())}function V(e,o){e&1&&(i(0,"span"),l(1,"Max Length of Name 20"),n())}function O(e,o){if(e&1&&(i(0,"p",7),d(1,B,2,0,"span")(2,j,2,0,"span")(3,V,2,0,"span"),n()),e&2){let r,t,m,c=_();a(),s((r=c.registerForm.get("name"))!=null&&r.getError("required")?1:-1),a(),s((t=c.registerForm.get("name"))!=null&&t.getError("minlength")?2:-1),a(),s((m=c.registerForm.get("name"))!=null&&m.getError("maxlength")?3:-1)}}function Z(e,o){e&1&&(i(0,"span"),l(1,"Email is required"),n())}function $(e,o){e&1&&(i(0,"span"),l(1,"Invalid email"),n())}function k(e,o){if(e&1&&(i(0,"p",7),d(1,Z,2,0,"span")(2,$,2,0,"span"),n()),e&2){let r,t,m=_();a(),s((r=m.registerForm.get("email"))!=null&&r.getError("required")?1:-1),a(),s((t=m.registerForm.get("email"))!=null&&t.getError("email")?2:-1)}}function z(e,o){e&1&&(i(0,"span"),l(1,"Password is required"),n())}function H(e,o){e&1&&(i(0,"span"),l(1,"* Must start with capital character"),u(2,"br"),l(3," * Min Length 6 characters"),u(4,"br"),l(5," * Include special characters"),n())}function J(e,o){if(e&1&&(i(0,"p",7),d(1,z,2,0,"span")(2,H,6,0,"span"),n()),e&2){let r,t,m=_();a(),s((r=m.registerForm.get("password"))!=null&&r.getError("required")?1:-1),a(),s((t=m.registerForm.get("password"))!=null&&t.getError("pattern")?2:-1)}}function K(e,o){e&1&&(i(0,"span"),l(1,"rePassword is required"),n())}function Q(e,o){e&1&&(i(0,"span"),l(1,"Invalid confirm password"),n())}function U(e,o){if(e&1&&(i(0,"p",7),d(1,K,2,0,"span")(2,Q,2,0,"span"),n()),e&2){let r,t,m=_();a(),s((r=m.registerForm.get("rePassword"))!=null&&r.getError("required")?1:-1),a(),s((t=m.registerForm.get("rePassword"))!=null&&t.getError("mismatch")?2:-1)}}function W(e,o){e&1&&(i(0,"span"),l(1,"phone is required"),n())}function X(e,o){e&1&&(i(0,"span"),l(1,"Enter egypt phone number"),n())}function Y(e,o){if(e&1&&(i(0,"p",7),d(1,W,2,0,"span")(2,X,2,0,"span"),n()),e&2){let r,t,m=_();a(),s((r=m.registerForm.get("phone"))!=null&&r.getError("required")?1:-1),a(),s((t=m.registerForm.get("phone"))!=null&&t.getError("pattern")?2:-1)}}function ee(e,o){e&1&&(i(0,"span"),l(1,"Register"),n())}function te(e,o){e&1&&(i(0,"span"),u(1,"i",17),n())}var G=class e{constructor(o,r,t){this._AuthService=o;this._Router=r;this._FormBuilder=t}errMsg="";isLoading=!1;registerForm=new q({name:new g("",[p.required,p.minLength(3),p.maxLength(20)]),email:new g("",[p.required,p.email]),password:new g("",[p.required,p.pattern(/^[A-Z][a-zA-Z0-9_@]{6,}$/)]),rePassword:new g(""),phone:new g("",[p.required,p.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]});confirmPassword(o){let r=o.get("password"),t=o.get("rePassword");t?.value==""?t.setErrors({required:!0}):r?.value!=t?.value&&t?.setErrors({mismatch:!0})}handleForm(){let o=this.registerForm.value;this.isLoading=!0,this.registerForm.valid===!0&&this._AuthService.register(o).subscribe({next:r=>{this.isLoading=!1,this._Router.navigate(["/login"])},error:r=>{this.isLoading=!1,this.errMsg=r.error.message}})}static \u0275fac=function(r){return new(r||e)(x(b),x(R),x(I))};static \u0275cmp=E({type:e,selectors:[["app-register"]],standalone:!0,features:[S],decls:33,vars:10,consts:[[1,"my-5","w-75","mx-auto","shadow","p-4","bg-main-ligth"],[1,"alert","alert-danger","mb-0","p-3","w-50","mx-auto","text-center"],[1,"my-3"],[3,"ngSubmit","formGroup"],[1,"form-item"],["for","name"],["type","text","formControlName","name","id","name",1,"form-control"],[1,"text-danger","p-1","small","mb-0"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control"],["for","rePassword"],["type","password","formControlName","rePassword","id","rePassword",1,"form-control"],["for","phone"],["type","tel","formControlName","phone","id","phone",1,"form-control"],[1,"main-btn","d-block","ms-auto","mt-3",3,"disabled"],[1,"fas","fa-spin","fa-spinner"]],template:function(r,t){if(r&1&&(i(0,"section",0),d(1,D,2,1,"p",1),i(2,"h1",2),l(3,"Register Now"),n(),i(4,"form",3),F("ngSubmit",function(){return t.handleForm()}),i(5,"div",4)(6,"label",5),l(7,"Name"),n(),u(8,"input",6),d(9,O,4,3,"p",7),n(),i(10,"div",4)(11,"label",8),l(12,"Email"),n(),u(13,"input",9),d(14,k,3,2,"p",7),n(),i(15,"div",4)(16,"label",10),l(17,"Password"),n(),u(18,"input",11),d(19,J,3,2,"p",7),n(),i(20,"div",4)(21,"label",12),l(22,"rePassword"),n(),u(23,"input",13),d(24,U,3,2,"p",7),n(),i(25,"div",4)(26,"label",14),l(27,"phone"),n(),u(28,"input",15),d(29,Y,3,2,"p",7),n(),i(30,"button",16),d(31,ee,2,0,"span")(32,te,2,0,"span"),n()()()),r&2){let m,c,f,C,v;a(),s(t.errMsg?1:-1),a(3),h("formGroup",t.registerForm),a(5),s((m=t.registerForm.get("name"))!=null&&m.errors&&((m=t.registerForm.get("name"))!=null&&m.touched)?9:-1),a(5),s((c=t.registerForm.get("email"))!=null&&c.errors&&((c=t.registerForm.get("email"))!=null&&c.touched)?14:-1),a(5),s((f=t.registerForm.get("password"))!=null&&f.errors&&((f=t.registerForm.get("password"))!=null&&f.touched)?19:-1),a(5),s((C=t.registerForm.get("rePassword"))!=null&&C.errors&&((C=t.registerForm.get("rePassword"))!=null&&C.touched)?24:-1),a(5),s((v=t.registerForm.get("phone"))!=null&&v.errors&&((v=t.registerForm.get("phone"))!=null&&v.touched)?29:-1),a(),h("disabled",t.registerForm.invalid),a(),s(t.isLoading?-1:31),a(),s(t.isLoading?32:-1)}},dependencies:[A,y,T,N,P,L,M]})};export{G as RegisterComponent};
