import{a as A}from"./chunk-P3Z34G7K.js";import{a as C}from"./chunk-THTALMT4.js";import{Ab as l,Bb as u,Hb as I,Ja as g,Nb as v,Oa as n,Pa as d,Pb as f,_ as h,bb as x,gb as c,hb as m,ib as s,jb as r,kb as t,lb as p,qc as y,zb as o}from"./chunk-SVRTX5CE.js";function E(a,i){if(a&1&&(r(0,"div",3)(1,"div",4),p(2,"img",5),t(),r(3,"div",6)(4,"h2",7),o(5),t(),r(6,"p",8),o(7),t(),r(8,"div",9)(9,"div",10)(10,"span"),o(11),v(12,"currency"),t(),r(13,"p",11)(14,"span"),p(15,"i",12),t(),r(16,"span"),o(17),t()()(),r(18,"span",13),o(19),t()()()()),a&2){let e=i.$implicit;n(2),x("src",e.product.imageCover,g),n(3),l(e.product.title),n(2),l(e.product.category.name),n(4),l(f(12,6,e.price,"E\xA3 ")),n(6),l(e.product.ratingsAverage),n(2),u("Count: ",e.count,"")}}function b(a,i){if(a&1&&(r(0,"div",2),m(1,E,20,9,"div",3,c),t()),a&2){let e=i.$implicit;n(),s(e.cartItems)}}var _=class a{constructor(i,e){this._AuthService=i;this._CartService=e}userId="";orders=[];totalSalary=0;ngOnInit(){this._AuthService.decodeUser(),this.userId=this._AuthService.userInfo.id,console.log(this._AuthService.userInfo.id),this.getOrders()}getOrders(){this._CartService.getOrders(this._AuthService.userInfo.id).subscribe({next:i=>{this.orders=i,this.totalSalary=i[0].totalOrderPrice},error:i=>{console.log(i)}})}static \u0275fac=function(e){return new(e||a)(d(A),d(C))};static \u0275cmp=h({type:a,selectors:[["app-allorders"]],standalone:!0,features:[I],decls:8,vars:4,consts:[[1,"w-75","mx-auto","rounded","shadow","bg-main-ligth","p-4","my-4"],[1,"small","text-main","my-3"],[1,"row","align-items-center"],[1,"d-flex","align-items-center","py-2","border-bottom"],[1,"col-md-2"],["alt","image cover",1,"w-100",3,"src"],[1,"col-md-10","ms-3"],[1,"h5"],[1,"text-main"],[1,"d-flex","justify-content-between"],[1,"price"],[1,"mb-0","d-flex","align-items-center"],[1,"fas","fa-star","rating-color"],[1,"d-block","text-main"]],template:function(e,S){e&1&&(r(0,"section",0)(1,"h2"),o(2,"All Orders"),t(),r(3,"h3",1),o(4),v(5,"currency"),t(),m(6,b,3,0,"div",2,c),t()),e&2&&(n(4),u(" Total Price: ",f(5,1,S.totalSalary,"E\xA3 ")," "),n(2),s(S.orders))},dependencies:[y]})};export{_ as AllordersComponent};
